[toc]

#### 地址空间定义

![image-20231104141447052](./image_3.2%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4&%E5%9C%B0%E5%9D%80%E7%94%9F%E6%88%90/image-20231104141447052.png)

1. 物理地址空间：硬件支持的地址空间

2. 逻辑地址空间：一个运行的程序拥有的内存范围

二者是如何映射的？



#### 怎么生成

编译：c->汇编语言

汇编：汇编语言->机器语言

![image-20231104141658985](./image_3.2%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4&%E5%9C%B0%E5%9D%80%E7%94%9F%E6%88%90/image-20231104141658985.png)

.exe等文件在硬盘中，需要载入到内存中

载入时需要地址分配（逻辑地址与物理地址有个偏移



![image-20231104141927725](./image_3.2%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4&%E5%9C%B0%E5%9D%80%E7%94%9F%E6%88%90/image-20231104141927725.png)

1. CPU按照逻辑地址取程序指令内容，但要去实际的物理地址才能找到

2. 由**内存管理单元MMU寻找映射的物理地址（查映射表**

3. 控制器从向内存发送请求

4. 内存发送内容给CPU

OS：建立逻辑地址和物理地址的映射

#### 地址安全检查

OS设置程序占用的空间限制

取程序指令时先进行判断，若符合，给出一个偏移量，找到实际物理地址

![image-20231104142350149](./image_3.2%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4&%E5%9C%B0%E5%9D%80%E7%94%9F%E6%88%90/image-20231104142350149.png)





