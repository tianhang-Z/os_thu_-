[toc]

![image-20231114174532839](./image/image_6.1%E5%B1%80%E9%83%A8%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/image-20231114174532839.png)

![image-20231114174746372](./image/image_6.1%E5%B1%80%E9%83%A8%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/image-20231114174746372.png)

**实验设置**

![image-20231114175027668](./image/image_6.1%E5%B1%80%E9%83%A8%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/image-20231114175027668.png)

### 1 最优页面置换算法

![image-20231114175419584](./image/image_6.1%E5%B1%80%E9%83%A8%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/image-20231114175419584.png)

eg

![image-20231114175739329](./image/image_6.1%E5%B1%80%E9%83%A8%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/image-20231114175739329.png)

###  2 先进先出算法 FIFO

![image-20231114193117064](./image/image_6.1%E5%B1%80%E9%83%A8%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/image-20231114193117064.png)

5次中断

![image-20231115151758259](./image/image_6.1%E5%B1%80%E9%83%A8%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/image-20231115151758259.png)

### 3 最近最久未使用算法 LRU

least recently used

**根据过去推测未来** 基于时间局部性原理

![image-20231115152011136](./image/image_6.1%E5%B1%80%E9%83%A8%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/image-20231115152011136.png)

  3次中断

![image-20231115152509620](./image/image_6.1%E5%B1%80%E9%83%A8%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/image-20231115152509620.png)

 **实现方法**，二者都需要在链表或栈中查找，带来时间开销

![image-20231115152813458](./image/image_6.1%E5%B1%80%E9%83%A8%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/image-20231115152813458.png)

![image-20231115153029233](./image/image_6.1%E5%B1%80%E9%83%A8%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/image-20231115153029233.png)

### 4 时钟页面置换算法

上述算法要么结果不好，要么时间上慢，有没有一种balance的方法

![image-20231115153656326](./image/image_6.1%E5%B1%80%E9%83%A8%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/image-20231115153656326.png)

最老的页面是近似的  用访问位模拟历史信息，为1代表新，为0代表旧，且被访问则置1，缺页则顺次查找第一个0

把页表组织成环形，然后指针扫描页表的访问位

 ![image-20231115154353263](./image/image_6.1%E5%B1%80%E9%83%A8%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/image-20231115154353263.png)

 eg  四次中断

![image-20231115155531057](./image/image_6.1%E5%B1%80%E9%83%A8%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/image-20231115155531057.png)

### 5 二次机会法（加强的clock

clock算法的缺点：读写都改变used bit

改进：页被写，则dirty bit为1

![image-20231115155934388](./image/image_6.1%E5%B1%80%E9%83%A8%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/image-20231115155934388.png)

 

![image-20231115163651261](./image/image_6.1%E5%B1%80%E9%83%A8%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/image-20231115163651261.png)

### 6 最不常用算法  LFU



![image-20231115164107103](./image/image_6.1%E5%B1%80%E9%83%A8%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/image-20231115164107103.png)

![image-20231115164315082](./image/image_6.1%E5%B1%80%E9%83%A8%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/image-20231115164315082.png)

### 7 比较

#### Belady现象   

![image-20231115194726809](./image/image_6.1%E5%B1%80%E9%83%A8%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/image-20231115194726809.png)

Belady是个人名

eg

![image-20231115195046705](./image/image_6.1%E5%B1%80%E9%83%A8%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/image-20231115195046705.png)

![image-20231115195204917](./image/image_6.1%E5%B1%80%E9%83%A8%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/image-20231115195204917.png)

**LRU则不会有Belady现象**

![image-20231115195417334](./image/image_6.1%E5%B1%80%E9%83%A8%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/image-20231115195417334.png)

#### 三个算法比较

![image-20231115195758154](./image/image_6.1%E5%B1%80%E9%83%A8%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/image-20231115195758154.png)

![image-20231115200956136](./image/image_6.1%E5%B1%80%E9%83%A8%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/image-20231115200956136.png)